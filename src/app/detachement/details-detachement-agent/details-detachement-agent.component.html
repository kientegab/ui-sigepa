<p-card>
    <!-- formulaire d'affichage du détail -->
    <ng-template pTemplate="header">
        <span class="p-mr-auto"> <b>DETAILS DEMANDE</b></span>
    </ng-template>
      <!-- <p-divider></p-divider> -->
      <hr>
      <div class="row">
        <div class="col-md-6 details-item">
          <span class="va-m"><span class="font-bold">Numero demande:</span> {{demande.numero}}</span>
        </div>
        <div class="col-md-6 details-item">
          <span class="va-m"><span class="font-bold">Date de demande:</span> {{demande.dateDemande}}</span>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 details-item">
            <span class="va-m"><span class="font-bold">Type de demande:</span> {{demande.typeDemande?.libelle}}</span>
          </div>
        <div class="col-md-6 details-item">
          <!-- <span class="va-m"><span class="font-bold">Motif:</span>{{demande.typeDemande?.motifDTOs?.libelle}}</span> -->
          <span class="va-m"><span class="font-bold">Motif : </span>Détachement pour exercer un mandat syndical</span>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 details-item">
          <span class="va-m"><span class="font-bold">Structure de disponibilité : </span> {{demande.destination}}</span>
        </div>
        <div class="col-md-6 details-item">
          <span class="va-m"><span class="font-bold">Date d'effet:</span> {{demande.dateEffet}}</span>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 details-item">
          <span class="va-m"><span class="font-bold">Matricule agent:</span> {{ demande.agent?.matricule }}</span>
        </div>
        <div class="col-md-6 details-item">
          <span class="va-m"><span class="font-bold">Nom agent:</span> {{ demande.agent?.nom }} {{ demande.agent?.prenom }}</span>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 details-item">
          <span class="va-m"><span class="font-bold">Statut demande:</span> {{demande.statut}}</span>
        </div>
      </div>

    <div class="row">
        <table class="table table-sm">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Fichier</th>
                <th scope="col">Action</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of pieceJointes;let i = index">
                <th scope="row">{{i+1}}</th>
                <td>{{item.libelle}}</td>
                <td><button class="btn btn-success" (click)="voirPiece(item.url)">Visualiser</button></td>
            </tr>
            </tbody>
        </table>
    </div>

      <p-divider></p-divider>
      <div class="row justify-content-center">
        <div class="p-ml-auto text-right">
            <button description="receptionner" icon="pi pi-folder-open" label="Receptionner" (click)="openModalReceptionner(demande)" class="p-button-primary mr-2"
            pButton></button>
        </div>
        <div class="p-ml-auto text-right">
            <button description="aviser" icon="pi pi-pencil" label="Aviser" (click)="openModalAviser(demande)" class="p-button-success mr-2"
            pButton></button>
        </div>
        <div class="p-ml-auto text-right">
          <button description="elaborer" icon="pi pi-pencil" label="Elaborer" (click)="openModalElaborerProjet(demande)" class="p-button-success mr-2"
          pButton></button>
      </div>
        <div class="p-ml-auto text-right">
            <button description="reset" icon="pi pi-times" label="Fermer" (click)="fermer()" class="p-button-danger mr-2"
            pButton></button>
        </div>
      </div>
  </p-card>
